import{_ as k,o as r,c,a as d,b as t,t as i,h as u,i as h,j as _,F as m,p as w,e as p}from"./index-MvD0OflI.js";const b={data(){return{walletConnected:!1,walletAddress:null,balance:0,stakeAmount:0,stakedAmount:0,reward:0,isStaking:!1,error:null}},methods:{async connectWallet(){try{const l=await ethereum.request({method:"eth_requestAccounts"});this.walletAddress=l[0],this.walletConnected=!0,await this.loadBalance()}catch{this.error="Не удалось подключить кошелек."}},async loadBalance(){},async stakeTokens(){if(this.stakeAmount<=0){this.error="Введите корректное количество токенов.";return}this.isStaking=!0,this.reward=this.calculateReward()},async unstakeTokens(){this.balance+=this.stakedAmount+this.reward,this.stakedAmount=0,this.isStaking=!1,this.reward=0},calculateReward(){return this.stakedAmount*.1}}},n=l=>(w("data-v-2c466d24"),l=l(),p(),l),S=n(()=>t("br",null,null,-1)),g=n(()=>t("br",null,null,-1)),y=n(()=>t("br",null,null,-1)),A=n(()=>t("br",null,null,-1)),V=n(()=>t("br",null,null,-1)),v={class:"staking text-white"},f=n(()=>t("h1",{class:"text-success",style:{}},"Staking VELOS",-1)),C={key:0,class:"wallet-status"},L={key:1},T={key:2},x={class:"staking-actions"},B=n(()=>t("h2",null,"Стейкинг VLS",-1)),I=n(()=>t("p",null,"Введите количество токенов VLS для стейкинга:",-1)),N={key:3},W={key:4,class:"error"};function q(l,s,D,E,e,a){return r(),c(m,null,[S,d(),g,d(),y,d(),A,d(),V,t("div",v,[f,e.walletConnected?(r(),c("div",C,[t("h3",null,"Кошелек подключен: "+i(e.walletAddress),1),t("p",null,"Баланс VLS: "+i(e.balance)+" VLS",1)])):u("",!0),e.walletConnected?u("",!0):(r(),c("div",L,[t("button",{onClick:s[0]||(s[0]=(...o)=>a.connectWallet&&a.connectWallet(...o)),class:"main-btn btn-danger1"},"Подключить кошелек")])),e.walletConnected&&!e.isStaking?(r(),c("div",T,[t("div",x,[B,I,h(t("input",{type:"number","onUpdate:modelValue":s[1]||(s[1]=o=>e.stakeAmount=o),placeholder:"Количество VLS",class:"stake-input"},null,512),[[_,e.stakeAmount]]),t("button",{onClick:s[2]||(s[2]=(...o)=>a.stakeTokens&&a.stakeTokens(...o)),class:"main-btn btn-danger1"},"Начать стейкинг")])])):u("",!0),e.walletConnected&&e.isStaking?(r(),c("div",N,[t("h2",null,"Вы стейкаете "+i(e.stakedAmount)+" VLS",1),t("p",null,"Ваши награды: "+i(e.reward)+" VLS",1),t("button",{onClick:s[3]||(s[3]=(...o)=>a.unstakeTokens&&a.unstakeTokens(...o)),class:"main-btn btn-danger1"},"Забрать награды и вывести токены")])):u("",!0),e.error?(r(),c("div",W,[t("p",null,i(e.error),1)])):u("",!0)])],64)}const R=k(b,[["render",q],["__scopeId","data-v-2c466d24"]]);export{R as default};
